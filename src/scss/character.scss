@import "./variables.scss";

/* ----------------------------------------- */
/*  Basic Structure                          */
/* ----------------------------------------- */
.ose.sheet.actor.character {
  min-width: 450px;
  min-height: 550px;

  /* ----------------------------------------- */
  /*  Sheet Header                             */
  /* ----------------------------------------- */

  .sheet-header {
    position: relative;
    .xp-bonus {
      top: -15px;
      right: 3px;
      color: $colorDarkGrey;
      font-size: 10px;
      position: absolute;
    }
    .profile {
      .modifiers-btn {
        opacity: 0;
        position: absolute;
        left: 0;
        bottom: 0;
        height: 20px;
        width: 140px;
        padding: 2px 5px;
        color: whitesmoke;
        background: $colorDark;
      }
      &:hover .modifiers-btn {
        opacity: 1;
      }
      &:hover .profile-img {
        box-shadow: 0 0 2px $colorDark;
      }
    }
  }

  /* ----------------------------------------- */
  /*  Sheet Body                               */
  /* ----------------------------------------- */
  .sheet-body {
    .tab {
      height: 100%;
    }
    .attribute-group {
      flex: 0 0 88px;
      .attributes {
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        height: 100%;
        width: auto;
        .attribute {
          display: flex;
          flex-direction: column;
          .attribute-name {
            width: auto;
            display: flex;
            align-items: center;
            margin: 0;
            line-height: 35px;
            span {
              margin: 0 0 0 .25em;
            }
            img {
              height: 35px;
              width: auto;
              display: inline-block;
            }
          }
          &.saving-throw {
            .attribute-name {
              line-height: 16px;
              width: 80px;
            }
            .attribute-value {
              line-height: 29px;
            }
          }
          .attribute-value {
            width: 45px;
            flex-grow: 0;
            input {
              padding: 0;
            }
          }
        }
      }
    }
    .attributes-tab {
      justify-content: space-between;
      height: 100%;
    }
    .resources {
      display: flex;
      justify-content: space-evenly;
      flex-direction: column;
      .attribute {
        display: flex;
        flex-direction: row;
        flex: 0 0 55px;
        &.resource {
          img{
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            margin: auto;
          }
          flex-direction: column;
        }
        &.attribute-secondaries {
          margin-bottom: 5px;
        }
        &.favorites {
          flex-direction: column;
        }
      }
    }
    .notes-tab {
      .inventory {
        .languages {
          margin: 2px;
          flex: 0 0 130px;
          .item-category-title {
            .item-controls {
              flex: 0 0 20px;
            }
          }
          ol {
            height: 100px;
            overflow: auto;
            list-style: none;
            padding: 5px;
            li {
              margin: 0;
              &:hover .item-controls {
                display: flex;
              }
              .item-controls {
                flex: 0 0 20px;
                display: none;
              }
            }
          }
        }
        .description {
          margin: 2px;
          .editor {
            .tox .tox-tbtn {
              height: 24px;
            }
            height: 110px;
          }
        }
        &.notes {
          margin: 2px;
          .editor {
            height: 150px;
          }
        }
      }
    }
    .health {
      &.armor-class {
        background: url("../assets/shield.png") no-repeat center;
        background-size: 70px;
        .shield {
          text-align: right;
          padding: 0 14px;
          font-size: 18px;
        }
      }
      height: 70px;
      position: relative;
      .health-value {
        font-size: 16px;
        text-align: center;
        font-weight: bolder;
        text-shadow: 0 0 2px white, 0 1px 2px white, 1px 0 2px white,
          1px 1px 2px white;
      }
      .health-top {
        border-bottom: none;
        position: absolute;
        font-size: 24px;
        top: 10px;
        width: 70px;
        left: calc(50% - 35px);
      }
      .health-bottom {
        border-bottom: none;
        position: absolute;
        bottom: 8px;
        width: 40px;
        right: calc(50% + -20px);
      }
      .health-empty {
        background: url("../assets/heart_empty.png") no-repeat center;
        background-size: 70px;
        background-position: top;
      }
      .health-full {
        background: url("../assets/heart_full.png") no-repeat center;
        background-size: 70px;
        background-position: bottom;
      }
    }
    .saving-throw {
      .attribute-value.flat {
        line-height: 30px;
      }
    }
    .exploration {
      .attribute {
        margin: 4px;
        .attribute-name {
          text-align: left;
          flex: 1 0 60px;
          line-height: 25px;
          font-size: 12px;
        }
      }
    }
  }

  /* Encumbrance Bar */
  .encumbrance {
    height: 12px;
    background: $colorDark;
    margin: 1px 15px 0 1px;
    border: 1px solid $colorDark;
    border-radius: 3px;
    position: relative;

    .encumbrance-bar {
      position: absolute;
      background: rgba(255, 0, 0, 0.6);
      height: 10px;
      border: 1px solid #777;
      border-radius: 2px;
    }

    .encumbrance-label {
      height: 10px;
      padding: 0 5px;
      position: absolute;
      top: 0;
      right: 10px;
      font-size: 13px;
      line-height: 12px;
      text-align: right;
      color: #eee;
      text-shadow: 0 0 5px #000;
    }

    .encumbrance-breakpoint {
      display: block;
      position: absolute;
    }

    .arrow-up {
      bottom: 0;
      width: 0;
      height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-bottom: 4px solid $colorLight;
    }

    .arrow-down {
      top: 0;
      width: 0;
      height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-top: 4px solid $colorLight;
    }

    &.encumbered {
      .arrow-up {
        border-bottom: 4px solid $colorDark;
      }
      .arrow-down {
        border-top: 4px solid $colorDark;
      }
    }
  }
  /* tag overflow */
  .tag-row {
    display: flex;
    overflow: hidden;
  }
  /* ----------------------------------------- */
  /*  Item Controls                            */
  /* ----------------------------------------- */
}
